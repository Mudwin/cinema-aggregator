# CinemaAggregator

–í–µ–±-—Å–µ—Ä–≤–∏—Å –¥–ª—è –∫–∏–Ω–æ–º–∞–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –æ—Ü–µ–Ω–∫–∏ —Ñ–∏–ª—å–º–æ–≤ –∏–∑ —á–µ—Ç—ã—Ä—ë—Ö –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (IMDb, Rotten Tomatoes, Metacritic, –ö–∏–Ω–æ–ø–æ–∏—Å–∫) –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∏. –°–µ—Ä–≤–∏—Å —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä—É—á–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –æ—Ü–µ–Ω–æ–∫ —Å —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É –¥–ª—è –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∫–∏–Ω–æ–∫–∞—Ä—Ç–∏–Ω.

**–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç:** [https://mudwin.pythonanywhere.com](https://mudwin.pythonanywhere.com)

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* **Python 3.10+**
* **Django 4.x**
* **Django REST Framework**
* **Celery** + **Redis** (–¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á)
* **Requests** (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–Ω–µ—à–Ω–∏–º–∏ API)
* **SQLite** (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
* **HTMX** + **Alpine.js** (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
* **Django CORS Headers**
* **Django Filter**

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
![–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞](screenshots/main-page.png)
*–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø–æ–∏—Å–∫–æ–º –ø–æ —Ñ–∏–ª—å–º–∞–º –∏ –ø–µ—Ä—Å–æ–Ω–∞–º*

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞
![–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞](screenshots/search-page.png)
*–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞ –ø–æ —Ñ–∏–ª—å–º–∞–º —Å –≤—ã–≤–æ–¥–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤*

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ñ–∏–ª—å–º–∞
![–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ñ–∏–ª—å–º–∞](screenshots/film-page.png)
*–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ñ–∏–ª—å–º–∞ —Å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏ –∏–∑ 4 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤*

### –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä—Å–æ–Ω—ã
![–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä—Å–æ–Ω—ã](screenshots/person-page.png)
*–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–∫—Ç–µ—Ä–∞/—Ä–µ–∂–∏—Å—Å–µ—Ä–∞ —Å —Ñ–∏–ª—å–º–æ–≥—Ä–∞—Ñ–∏–µ–π, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É*

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- **–ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤** –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º TMDB API
- **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ñ–∏–ª—å–º–∞** —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∏–∑:
  - IMDb
  - Rotten Tomatoes
  - Metacritic
  - –ö–∏–Ω–æ–ø–æ–∏—Å–∫
- **–ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏** –Ω–∞ –∞–∫—Ç–µ—Ä–æ–≤ –∏ —Ä–µ–∂–∏—Å—Å–µ—Ä–æ–≤
- **–ü–æ–∏—Å–∫ –ø–µ—Ä—Å–æ–Ω** (–∞–∫—Ç–µ—Ä—ã, —Ä–µ–∂–∏—Å—Å–µ—Ä—ã)
- **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä—Å–æ–Ω—ã** —Å —Ñ–∏–ª—å–º–æ–≥—Ä–∞—Ñ–∏–µ–π, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–º—É —Ä–µ–π—Ç–∏–Ω–≥—É
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** —á–µ—Ä–µ–∑ Celery –∑–∞–¥–∞—á–∏
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –≤–Ω–µ—à–Ω–∏–º API
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω**

### üîÑ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:
- –ü–æ–∏—Å–∫ –ø–æ –≥–æ–¥–∞–º/–¥–∏–∞–ø–∞–∑–æ–Ω–∞–º –ª–µ—Ç
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–µ—Ä—Å–æ–Ω
- –¢–æ–ø-—Ñ–∏–ª—å–º—ã –ø–æ –≥–æ–¥–∞–º

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone https://github.com/yourusername/cinema-aggregator.git
cd cinema-aggregator
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```bash
python -m venv venv

# –î–ª—è Linux/Mac:
source venv/bin/activate

# –î–ª—è Windows:
venv\Scripts\activate
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip install -r requirements.txt
```

### 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
TMDB_API_KEY=–≤–∞—à_–∫–ª—é—á_tmdb
OMDB_API_KEY=–≤–∞—à_–∫–ª—é—á_omdb
KINOPOISK_API_KEY=–≤–∞—à_–∫–ª—é—á_kinopoisk
SECRET_KEY=django-secret-key-—Å—é–¥–∞
DEBUG=True
CELERY_BROKER_URL=redis://localhost:6379/0
```

### 5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
python manage.py migrate
```

### 6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Redis (–¥–ª—è Celery)
```bash
# Ubuntu/Debian:
sudo systemctl start redis

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker:
docker run -d -p 6379:6379 redis:alpine
```

### 7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Celery worker
```bash
celery -A cinema_aggregator worker --loglevel=info
```

### 8. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```
python manage.py runserver
```

### 9. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É: [http://127.0.0.1:8000/](http://127.0.0.1:8000/)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
cinema_aggregator/
‚îú‚îÄ‚îÄ core/                    # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ services/           # –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tmdb_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ omdb_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ kinopoisk_service.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ film_aggregator.py
‚îÇ   ‚îú‚îÄ‚îÄ tasks.py           # Celery –∑–∞–¥–∞—á–∏
‚îÇ   ‚îú‚îÄ‚îÄ models.py          # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ templates/         # HTML —à–∞–±–ª–æ–Ω—ã
‚îú‚îÄ‚îÄ cinema_aggregator/      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ media/                 # –ó–∞–≥—Ä—É–∂–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ static/                # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
```

## API –ö–ª—é—á–∏

–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã API –∫–ª—é—á–∏:

1. TMDB API: [developers.themoviedb.org](https://developers.themoviedb.org)
2. OMDb API: [omdbapi.com/apikey.aspx](https://omdbapi.com/apikey.aspx)
3. Kinopoisk API Unofficial: [kinopoiskapiunofficial.tech](kinopoiskapiunofficial.tech)

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python manage.py createsuperuser

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
python manage.py test

# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à API
python manage.py clear_api_cache

# –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
python manage.py quick_import "–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä"
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö - –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–∏—Å–∫–µ —Ñ–∏–ª—å–º–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ —Ñ–æ–Ω–µ —á–µ—Ä–µ–∑ Celery
2. –£–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
3. –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
4. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTMX –¥–ª—è –ø–ª–∞–≤–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

